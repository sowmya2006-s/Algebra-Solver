<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Algebra Solver</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.0/math.js"></script>
  <style>
    /* General Styles */
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(45deg, #a9a5a5, #a9a5a5);
      color: white;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    h1, h2 {
      margin-bottom: 20px;
      color: #ffffff;
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
    }

    .container, .about {
      background: #333;
      padding: 30px;
      margin-top: 20px;
      margin-bottom: 20px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
      width: 420px;
      max-width: 90%;
      animation: fadeIn 1s ease-in;
    }

    select, input, textarea, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      font-size: 18px;
      border: 2px solid white;
      border-radius: 8px;
      background-color: #222;
      color: white;
    }

    select {
      background-color: #444;
    }

    textarea {
      resize: none;
    }

    button {
      background-color: #ff4b5c;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background-color: #e63849;
    }

    #result {
      margin-top: 20px;
      background-color: #111;
      padding: 15px;
      border-radius: 8px;
      font-size: 18px;
      color: #eee;
      white-space: pre-wrap;
      text-align: left;
      border: 1px solid #555;
    }

    footer {
      margin-top: auto;
      background: #111;
      width: 100%;
      padding: 15px;
      font-size: 14px;
      color: #bbb;
      text-align: center;
    }

    footer a {
      color: #ff4b5c;
      text-decoration: none;
      font-weight: bold;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* Animation */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Mobile - <600px */
    @media (max-width: 600px) {
      .container, .about {
        width: 95%;
        padding: 20px;
      }
      h1, h2 {
        font-size: 24px;
      }
      button {
        font-size: 16px;
      }
      #result {
        font-size: 14px;
      }
    }

    /* Tablet - 600px to 1024px */
    @media (min-width: 601px) and (max-width: 1024px) {
      .container, .about {
        width: 80%;
        padding: 25px;
      }
      h1, h2 {
        font-size: 32px;
      }
      button {
        font-size: 18px;
      }
      #result {
        font-size: 16px;
      }
    }

    /* Small Laptop / Desktop - 1025px to 1440px */
    @media (min-width: 1025px) and (max-width: 1440px) {
      .container, .about {
        width: 600px;
        padding: 30px;
      }
      h1, h2 {
        font-size: 36px;
      }
      button {
        font-size: 20px;
      }
      #result {
        font-size: 18px;
      }
    }

    /* Large Screens - >1440px */
    @media (min-width: 1441px) {
      .container, .about {
        width: 700px;
      }
    }

  </style>
</head>

<body>

  <!-- About Section First -->
  <div class="about" id="aboutSection">
    <h2>About Algebra Solver</h2>
    <p>This Algebra Solver can solve linear equations (up to 3 variables), quadratic, and cubic equations easily.
      It uses math.js and custom numerical methods for fast and accurate results. 
      Designed for students, engineers, and anyone working with basic algebra!</p>
    <button onclick="showSolver()">Start Solving</button>
  </div>

  <!-- Solver Container Hidden Initially -->
  <div class="container" id="solverSection" style="display: none;">
    <h1>Algebra Solver</h1>

    <select id="mode" onchange="toggleInputs()">
      <option value="linear">Solve Linear Equation (1-3 Variables)</option>
      <option value="quadratic">Solve Quadratic Equation</option>
      <option value="cubic">Solve Cubic Equation</option>
    </select>

    <div id="linearInputs" class="input-container" style="display: none;">
      <h3>Linear Equations (1-3 Variables):</h3>
      <textarea id="inputArea" rows="6" placeholder="Enter your equation(s) here..."></textarea>
    </div>

    <div id="quadraticInputs" class="input-container" style="display: none;">
      <h3>Quadratic Equation: ax² + bx + c = 0</h3>
      <input id="a" type="number" placeholder="Enter coefficient a">
      <input id="b" type="number" placeholder="Enter coefficient b">
      <input id="c" type="number" placeholder="Enter coefficient c">
    </div>

    <div id="cubicInputs" class="input-container" style="display: none;">
      <h3>Cubic Equation: ax³ + bx² + cx + d = 0</h3>
      <input id="aCubic" type="number" placeholder="Enter coefficient a">
      <input id="bCubic" type="number" placeholder="Enter coefficient b">
      <input id="cCubic" type="number" placeholder="Enter coefficient c">
      <input id="dCubic" type="number" placeholder="Enter coefficient d">
    </div>

    <button onclick="solve()">Solve</button>

    <div id="result"></div>
  </div>

  <footer>
    
    <a> </a>


    <a> </a>
    <a>Done by</a> Sowmya,shakthi Rithanya,Angleina,santhiya<br>
    
  </footer>
  

  <script>
    function showSolver() {
      document.getElementById('aboutSection').style.display = 'none';
      document.getElementById('solverSection').style.display = 'block';
    }

    function toggleInputs() {
      const mode = document.getElementById('mode').value;
      document.getElementById('linearInputs').style.display = 'none';
      document.getElementById('quadraticInputs').style.display = 'none';
      document.getElementById('cubicInputs').style.display = 'none';

      if (mode === 'linear') {
        document.getElementById('linearInputs').style.display = 'block';
      } else if (mode === 'quadratic') {
        document.getElementById('quadraticInputs').style.display = 'block';
      } else if (mode === 'cubic') {
        document.getElementById('cubicInputs').style.display = 'block';
      }
    }

    function solve() {
      const mode = document.getElementById('mode').value;
      const resultElement = document.getElementById('result');
      
      try {
        if (mode === 'linear') {
          const input = document.getElementById('inputArea').value.trim();
          const lines = input.split('\n').filter(line => line.trim() !== '');
          if (lines.length === 0) throw new Error("Please enter your linear equations.");
          solveLinear(lines);
        } else if (mode === 'quadratic') {
          const a = parseFloat(document.getElementById('a').value);
          const b = parseFloat(document.getElementById('b').value);
          const c = parseFloat(document.getElementById('c').value);
          if (isNaN(a) || isNaN(b) || isNaN(c)) throw new Error("Please enter valid coefficients for quadratic equation.");
          solveQuadratic(a, b, c);
        } else if (mode === 'cubic') {
          const a = parseFloat(document.getElementById('aCubic').value);
          const b = parseFloat(document.getElementById('bCubic').value);
          const c = parseFloat(document.getElementById('cCubic').value);
          const d = parseFloat(document.getElementById('dCubic').value);
          if (isNaN(a) || isNaN(b) || isNaN(c) || isNaN(d)) throw new Error("Please enter valid coefficients for cubic equation.");
          solveCubic(a, b, c, d);
        }
      } catch (error) {
        resultElement.innerText = "Error solving: " + error.message;
      }
    }

    function solveLinear(lines) {
      const variables = new Set();
      lines.forEach(line => {
        const matches = line.match(/[a-zA-Z]/g);
        if (matches) matches.forEach(v => variables.add(v));
      });

      const varsArray = Array.from(variables).sort();
      const A = [];
      const b = [];

      lines.forEach(eq => {
        let leftRight = eq.split('=');
        if (leftRight.length !== 2) throw new Error("Each equation must have exactly one '=' sign.");

        let left = leftRight[0];
        let right = leftRight[1];

        const coeffRow = [];

        varsArray.forEach(v => {
          const regex = new RegExp(`([+-]?\\s*\\d*\\.?\\d*)\\s*${v}`);
          const match = left.match(regex);
          if (match) {
            let num = match[1].replace(/\s/g, '');
            if (num === '' || num === '+') num = '1';
            else if (num === '-') num = '-1';
            coeffRow.push(parseFloat(num));
          } else {
            coeffRow.push(0);
          }
        });

        A.push(coeffRow);
        b.push(parseFloat(right));
      });

      const solution = math.lusolve(A, b);

      let output = "Solution:\n";
      for (let i = 0; i < varsArray.length; i++) {
        output += `${varsArray[i]} = ${solution[i][0]}\n`;
      }

      document.getElementById('result').innerText = output.trim();
    }

    function solveQuadratic(a, b, c) {
      const discriminant = b * b - 4 * a * c;
      let output = `Solving: ${a}x² + ${b}x + ${c} = 0\n`;

      if (discriminant > 0) {
        const root1 = (-b + Math.sqrt(discriminant)) / (2 * a);
        const root2 = (-b - Math.sqrt(discriminant)) / (2 * a);
        output += `Two Real Roots:\n`;
        output += `x₁ = ${root1}\n`;
        output += `x₂ = ${root2}`;
      } else if (discriminant === 0) {
        const root = -b / (2 * a);
        output += `One Real Root:\n`;
        output += `x = ${root}`;
      } else {
        const realPart = (-b / (2 * a)).toFixed(3);
        const imaginaryPart = (Math.sqrt(-discriminant) / (2 * a)).toFixed(3);
        output += `Two Complex Roots:\n`;
        output += `x₁ = ${realPart} + ${imaginaryPart}i\n`;
        output += `x₂ = ${realPart} - ${imaginaryPart}i`;
      }

      document.getElementById('result').innerText = output.trim();
    }

    function solveCubic(a, b, c, d) {
      const roots = [];
      const f = (x) => a * Math.pow(x, 3) + b * Math.pow(x, 2) + c * x + d;
      const df = (x) => 3 * a * Math.pow(x, 2) + 2 * b * x + c;
      const guesses = [-10, 0, 10];

      guesses.forEach(initialGuess => {
        let x = initialGuess;
        let iteration = 0;
        const tolerance = 0.00001;

        while (iteration < 1000) {
          const fx = f(x);
          const dfx = df(x);
          if (Math.abs(fx) < tolerance) {
            roots.push(x);
            break;
          }
          x -= fx / dfx;
          iteration++;
        }
      });

      const uniqueRoots = [...new Set(roots)].sort((a, b) => a - b);

      let output = `Solving: ${a}x³ + ${b}x² + ${c}x + ${d} = 0\nRoots:\n`;
      uniqueRoots.forEach((root, i) => {
        output += `x${i + 1} = ${root.toFixed(6)}\n`;
      });

      document.getElementById('result').innerText = output.trim();
    }
  </script>

</body>
</html>